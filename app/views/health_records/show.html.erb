<div class="max-w-4xl mx-auto">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-3xl font-bold text-slate-900">健康記録の詳細</h1>
    <p class="text-slate-600 mt-2"><%= @health_record.recorded_at.strftime("%Y年%m月%d日 (%A)") %>の記録</p>
  </div>

  <!-- メインカード -->
  <div class="card rounded-3xl p-6 mb-6">
    <!-- メトリクスグリッド -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
      <!-- 体重 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>⚖️</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">体重</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.weight.present? ? @health_record.weight.to_s : "➖" %>
          <% if @health_record.weight.present? %>
            <span class="text-sm text-slate-500 font-normal">kg</span>
          <% end %>
        </p>
      </div>

      <!-- 睡眠時間 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>😴</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">睡眠時間</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.sleep_hours.present? ? @health_record.sleep_hours.to_s : "➖" %>
          <% if @health_record.sleep_hours.present? %>
            <span class="text-sm text-slate-500 font-normal">時間</span>
          <% end %>
        </p>
      </div>

      <!-- 運動時間 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>🏃</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">運動時間</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.exercise_minutes.present? ? @health_record.exercise_minutes.to_s : "➖" %>
          <% if @health_record.exercise_minutes.present? %>
            <span class="text-sm text-slate-500 font-normal">分</span>
          <% end %>
        </p>
      </div>

      <!-- 歩数 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>👣</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">歩数</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.steps.present? ? number_with_delimiter(@health_record.steps) : "➖" %>
        </p>
      </div>

      <!-- 心拍数 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>💓</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">心拍数</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.heart_rate.present? ? @health_record.heart_rate.to_s : "➖" %>
          <% if @health_record.heart_rate.present? %>
            <span class="text-sm text-slate-500 font-normal">bpm</span>
          <% end %>
        </p>
      </div>

      <!-- 最高血圧 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>🩸</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">最高血圧</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.systolic_pressure.present? ? @health_record.systolic_pressure.to_s : "➖" %>
          <% if @health_record.systolic_pressure.present? %>
            <span class="text-sm text-slate-500 font-normal">mmHg</span>
          <% end %>
        </p>
      </div>

      <!-- 最低血圧 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span>💉</span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">最低血圧</h3>
        <p class="text-2xl font-bold text-slate-800 mono">
          <%= @health_record.diastolic_pressure.present? ? @health_record.diastolic_pressure.to_s : "➖" %>
          <% if @health_record.diastolic_pressure.present? %>
            <span class="text-sm text-slate-500 font-normal">mmHg</span>
          <% end %>
        </p>
      </div>

      <!-- 体調 -->
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <div class="icon-gradient mb-3 w-12 h-12 text-xl">
          <span><%= mood_emoji(@health_record.mood) %></span>
        </div>
        <h3 class="text-xs text-slate-500 mb-1">体調スコア</h3>
        <% if @health_record.mood.present? %>
          <p class="text-2xl font-bold text-slate-800 mono mb-2"><%= @health_record.mood %>/5</p>
          <span class="<%= mood_badge_class(@health_record.mood) %>">
            <%= mood_emoji(@health_record.mood) %>
            <%= mood_text(@health_record.mood) %>
          </span>
        <% else %>
          <p class="text-2xl font-bold text-slate-800 mono">➖</p>
        <% end %>
      </div>
    </div>

    <!-- メモ -->
    <% if @health_record.notes.present? %>
      <div class="bg-white bg-opacity-50 rounded-xl p-4">
        <h3 class="text-sm font-semibold text-slate-700 mb-2">📝 メモ</h3>
        <p class="text-slate-900 whitespace-pre-wrap"><%= @health_record.notes %></p>
      </div>
    <% end %>
  </div>

  <!-- アクションボタン -->
  <div class="flex flex-col md:flex-row gap-3">
    <%= link_to edit_health_record_path(@health_record), class: "btn-primary" do %>
      <span>✏️ 編集</span>
    <% end %>
    <%= link_to health_records_path, class: "btn-secondary" do %>
      <span>← 一覧に戻る</span>
    <% end %>
    <%= button_to @health_record, method: :delete,
        class: "bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-3 rounded-xl transition min-h-[44px] flex items-center justify-center",
        data: { turbo_confirm: "本当に削除しますか？" } do %>
      <span>🗑️ 削除</span>
    <% end %>
  </div>
</div>
