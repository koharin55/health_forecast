# HealthForecast - 健康管理アプリケーション

HealthForecastは、日々の健康データを記録・可視化し、将来的にAIを活用した体調予測やアドバイスを提供する健康管理アプリケーションです。

## 概要

このアプリケーションは、以下の会話内容に基づいて設計された健康管理システムの第一フェーズ（MVP版）です：

- PCとスマホ両方で閲覧可能なレスポンシブデザイン
- 手動入力による健康データの記録
- データのグラフ表示と簡単な統計
- 将来的なApple Health/HealthKit連携の準備
- AI機能追加の基盤

## 主な機能

### 現在実装済みの機能

1. **ユーザー認証**
   - メールアドレスとパスワードによるユーザー登録・ログイン
   - Deviseを使用したセキュアな認証システム

2. **健康データ記録**
   - 体重（kg）
   - 睡眠時間（時間）
   - 運動時間（分）
   - 体調スコア（1-5段階）
   - 歩数
   - 心拍数（bpm）
   - メモ（自由記述）

3. **ダッシュボード**
   - 統計サマリー（総記録数、最新の体重・体調）
   - グラフ表示（体重、睡眠時間、体調スコア、運動時間の推移）
   - 最近の記録一覧

4. **記録管理**
   - 記録の一覧表示
   - 記録の詳細表示
   - 記録の編集・削除

### 今後追加予定の機能

- Apple Health / HealthKitからのデータ自動連携（iOSアプリ開発）
- AIによる体調予測とアラート機能
- 過去データの詳細分析とレポート生成
- パーソナライズされた健康アドバイスとTips
- PWA対応でスマホアプリのような操作性

## 技術スタック

- **フレームワーク**: Ruby on Rails 7.1.6
- **Ruby**: 3.2.0
- **データベース**: SQLite3（開発環境）
- **認証**: Devise 5.0.0
- **フロントエンド**:
  - Tailwind CSS（レスポンシブデザイン）
  - Hotwire (Turbo & Stimulus)
  - Chartkick（グラフ表示）
- **データ分析**: Groupdate

## セットアップ手順

### 前提条件

- Ruby 3.2.0
- Rails 7.1.6
- SQLite3

### インストール

1. リポジトリのクローン（または既存ディレクトリで作業）

```bash
cd health_forecast
```

2. 依存関係のインストール

```bash
bundle install
```

3. データベースのセットアップ

```bash
rails db:create
rails db:migrate
```

4. サーバーの起動

```bash
bin/dev
```

または

```bash
rails server
```

5. ブラウザで http://localhost:3000 にアクセス

## 使い方

1. **ユーザー登録**
   - トップページから「Sign up」をクリック
   - メールアドレスとパスワードを入力して登録

2. **ログイン**
   - 登録したメールアドレスとパスワードでログイン

3. **健康記録の追加**
   - ダッシュボードまたは「健康記録」ページから「新しい記録を追加」をクリック
   - 記録日と各種健康データを入力
   - 「記録を追加」ボタンで保存

4. **データの閲覧**
   - ダッシュボード：最近の記録とグラフで推移を確認
   - 健康記録一覧：すべての記録を一覧表示
   - 詳細表示：個別の記録を詳しく確認

5. **記録の編集・削除**
   - 各記録の「編集」ボタンでデータを修正
   - 「削除」ボタンで不要な記録を削除

## データモデル

### User（ユーザー）
- email（メールアドレス）
- encrypted_password（暗号化パスワード）

### HealthRecord（健康記録）
- user_id（ユーザーID）
- recorded_at（記録日）
- weight（体重）
- sleep_hours（睡眠時間）
- exercise_minutes（運動時間）
- mood（体調スコア 1-5）
- notes（メモ）
- steps（歩数）
- heart_rate（心拍数）

## 開発のロードマップ

### フェーズ1（完了）
✅ Rails Web版の基本機能
✅ ユーザー認証
✅ 手動入力によるデータ記録
✅ グラフ表示と簡単な分析
✅ レスポンシブデザイン

### フェーズ2（予定）
- PWA化（オフライン対応、ホーム画面追加）
- プッシュ通知機能

### フェーズ3（予定）
- Claude APIまたはOpenAI APIを使用したAI分析
- パーソナライズされたアドバイス生成
- 体調予測機能

### フェーズ4（予定）
- iOSアプリ開発（Swift）
- HealthKit連携
- データの自動同期

## デプロイ

本番環境へのデプロイ時は、以下の設定が必要です：

1. 環境変数の設定
   - `SECRET_KEY_BASE`
   - データベース接続情報（本番環境ではPostgreSQLを推奨）

2. アセットのプリコンパイル

```bash
RAILS_ENV=production rails assets:precompile
```

3. データベースマイグレーション

```bash
RAILS_ENV=production rails db:migrate
```

## ライセンス

このプロジェクトは個人開発プロジェクトです。

## 貢献

個人プロジェクトですが、改善提案やバグ報告は歓迎します。

## お問い合わせ

質問や提案がある場合は、プロジェクトのIssueまでお願いします。

---

**注意**: 本アプリケーションは医療アドバイスを提供するものではありません。健康上の懸念がある場合は、必ず医療専門家にご相談ください。
